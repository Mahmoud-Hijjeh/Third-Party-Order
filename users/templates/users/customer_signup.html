
{% extends 'base.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=2.0">
        <title>Third Party Order</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
        <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&callback=initAutocomplete"
        async defer></script>
        <script>
          function getLocation() {
            navigator.geolocation.getCurrentPosition(function(position) {
              var latlng = new google.maps.LatLng(
                position.coords.latitude,
                position.coords.longitude
              );
              var geocoder = new google.maps.Geocoder();
              geocoder.geocode({ location: latlng }, function(results, status) {
                if (status === 'OK') {
                  if (results[0]) {
                    document.getElementById('id_location').value = results[0].formatted_address;
                    document.getElementById("id_location").setAttribute("disabled", "disabled");
                  } else {
                    window.alert('No results found');
                  }
                } else {
                  window.alert('Geocoder failed due to: ' + status);
                }
              });
            });
          }
        </script>
    </head>

    <body>
       
        <div class="container" >
          <form method="POST" enctype="multipart/form-data" >
                {% csrf_token %}
            <div class="columns">
                
                <div class="column is-4">
                </div>
                    <div class="columns is-flex is-flex-direction-column">
                        <br>
                        <br>
                      <div class="box">
                        <div class="has-text-primary">
                        <div class="has-text-centered">
                            <p class="is-size-30"> Create Customer Account
                            </p>
                        </div>
                    </div>
                        <div class="column">
                          <p>
                            <label for="id_username">Full User Name:</label>
                            <input class="input is-primary" type="text" name="username" maxlength="50" autofocus="" required="" id="id_username" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                            <label for="id_password1">password:</label>
                            <input class="input is-primary" type="password" name="password1" required="" id="id_password1" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                            <label for="id_password2">Confirm password:</label>
                            <input class="input is-primary" type="password" name="password2" required="" id="id_password2" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                            <label for="id_email">Email address:</label>
                            <input class="input is-primary" type="email" name="email" maxlength="254" id="id_email" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                            <label for="id_phone_number">Phone number:</label>
                            <input class="input is-primary" type="text" name="phone_number" maxlength="16" required="" id="id_phone_number" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                            <label for="id_age">Age:</label>
                            <input class="input is-primary" type="number" name="age" min="13" max="200" required="" id="id_age" />
                          </p>
                        </div>
                        <div class="column">
                          <p>
                          <label for="id_image">Image</label>                       
                          <div class="file is-primary">
                              <label class="file-label">
                                <input class="file-input" type="file" name="image" accept="image/*" required="" id="id_image" />
                                <span class="file-cta">
                                  <span class="file-icon">
                                    <i class="fas fa-upload"></i>
                                  </span>
                                  <span class="file-label">
                                    Upload Photo...
                                  </span>
                                </span>
                              </label>
                            </div>
                          </p>
                          </div>
                          
                   
<div class="column">
  <p>
  <label for="id_location">Address from google map above</label>
    <div id="locationField">
      <input class="input is-primary" id="id_location" name="location" placeholder="Enter your address"
      onclick="getLocation()" type="text" required="" maxlength="100"/>
      </div>
    </p>
</div>
                        <div class="column">
                          <button class="button is-primary is-fullwidth" type="submit">Signup</button>
                        </div>
                       
                        <div class="has-text-centered">
                            <a href="{% url 'login' %}">Back to login</a>                            </p>
                        </div>
                    </div>
                </div>
                </div>
            </form>
            </div>
        </div>
    </body>

</html>

{% endblock %}
